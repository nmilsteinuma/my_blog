<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Text as Data Poster Work</title>

  <meta property="description" itemprop="description" content="Work on corpus, document-term-matrix and visualizations for my Text-as-Data Poster."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-04-18"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-04-18"/>
  <meta name="article:author" content="Noah Milstein"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Text as Data Poster Work"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Work on corpus, document-term-matrix and visualizations for my Text-as-Data Poster."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Text as Data Poster Work"/>
  <meta property="twitter:description" content="Work on corpus, document-term-matrix and visualizations for my Text-as-Data Poster."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Text as Data Poster Work"]},{"type":"character","attributes":{},"value":["Work on corpus, document-term-matrix and visualizations for my Text-as-Data Poster.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Noah Milstein"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":[]}},"value":[]}]}]},{"type":"character","attributes":{},"value":["2022-04-18"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["text-as-data-poster-work_files/anchor-4.2.2/anchor.min.js","text-as-data-poster-work_files/bowser-1.9.3/bowser.min.js","text-as-data-poster-work_files/distill-2.2.21/template.v2.js","text-as-data-poster-work_files/figure-html5/unnamed-chunk-15-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-25-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-26-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-27-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-28-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-33-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-34-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-35-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-36-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-37-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-38-1.png","text-as-data-poster-work_files/figure-html5/unnamed-chunk-39-1.png","text-as-data-poster-work_files/header-attrs-2.13/header-attrs.js","text-as-data-poster-work_files/jquery-3.6.0/jquery-3.6.0.js","text-as-data-poster-work_files/jquery-3.6.0/jquery-3.6.0.min.js","text-as-data-poster-work_files/jquery-3.6.0/jquery-3.6.0.min.map","text-as-data-poster-work_files/popper-2.6.0/popper.min.js","text-as-data-poster-work_files/tippy-6.2.7/tippy-bundle.umd.min.js","text-as-data-poster-work_files/tippy-6.2.7/tippy-light-border.css","text-as-data-poster-work_files/tippy-6.2.7/tippy.css","text-as-data-poster-work_files/tippy-6.2.7/tippy.umd.min.js","text-as-data-poster-work_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="text-as-data-poster-work_files/header-attrs-2.13/header-attrs.js"></script>
  <script src="text-as-data-poster-work_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="text-as-data-poster-work_files/popper-2.6.0/popper.min.js"></script>
  <link href="text-as-data-poster-work_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="text-as-data-poster-work_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="text-as-data-poster-work_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="text-as-data-poster-work_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="text-as-data-poster-work_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="text-as-data-poster-work_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="text-as-data-poster-work_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Text as Data Poster Work","description":"Work on corpus, document-term-matrix and visualizations for my Text-as-Data Poster.","authors":[{"author":"Noah Milstein","authorURL":{},"affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-04-18T00:00:00.000-04:00","citationText":"Milstein, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Text as Data Poster Work</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Work on corpus, document-term-matrix and visualizations for my
Text-as-Data Poster.</p></p>
</div>

<div class="d-byline">
  Noah Milstein true 
  
<br/>2022-04-18
</div>

<div class="d-article">
<h2 id="overview">Overview</h2>
<p><strong>Explanation:</strong> In this post I go through my final
visualizations for my text-as-data poster. These Include my final steps
of analysis that are consistent with what is seen on my submitted
poster.</p>
<h3 id="loading-required-packages">Loading Required Packages</h3>
<p><strong>Basis:</strong> Firstly I load quite a few packages, both
those I need for the final paper, and a number of packages that I used
in coming up with my research design. I specifically us the tm package
for topic modeling with LDA or latent Dirichlet allocation.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/rstudio/rmarkdown'>rmarkdown</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>RedditExtractoR</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://arxiv.org/abs/1403.2805'>jsonlite</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://httr.r-lib.org/'>httr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://tm.r-forge.r-project.org/'>tm</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://leslie-huang.github.io/r-corpus/'>corpus</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://quanteda.io'>quanteda</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/trinker/textclean'>textclean</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://yihui.org/knitr/'>knitr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lubridate.tidyverse.org'>lubridate</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://statsmaths.github.io/cleanNLP/'>cleanNLP</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://quanteda.io'>quanteda.textstats</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>quanteda.textplots</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/nalimilan/R.TeMiS'>SnowballC</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://blog.fellstat.com/?cat=11'>wordcloud</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>RColorBrewer</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/quanteda/stopwords'>stopwords</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rvest.tidyverse.org/'>rvest</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/juliasilge/tidytext'>tidytext</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://text2vec.org'>text2vec</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>preText</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://kwstat.github.io/pals/'>pals</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/hadley/reshape'>reshape2</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>lda</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/nikita-moor/ldatuning'>ldatuning</a></span><span class='op'>)</span>
<span class='co'># install klippy for copy-to-clipboard button in code chunks</span>
<span class='fu'>remotes</span><span class='fu'>::</span><span class='fu'><a href='https://remotes.r-lib.org/reference/install_github.html'>install_github</a></span><span class='op'>(</span><span class='st'>"rlesur/klippy"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="loading-and-scraping-data">Loading and Scraping Data</h3>
<p><strong>Basis:</strong> First I load my Rdata in using a custom
function. Though I donâ€™t have the code running for api purposes the
RedditExtractoR code I used is included.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>
<span class='co'># First I use a fucntion to load an RData file as R has no default </span>

<span class='va'>loadRData</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>fileName</span><span class='op'>)</span><span class='op'>{</span>
<span class='co'>#loads an RData file, and returns it</span>
    <span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span><span class='op'>(</span><span class='va'>fileName</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/get.html'>get</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>!=</span> <span class='st'>"fileName"</span><span class='op'>]</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># My first data frame comprises new posts as of march 26 2022 which are taken </span>
<span class='co'># from the 15th-26th of march primarily. </span>

<span class='co'># new_guns_urls &lt;- find_thread_urls(subreddit="guns", sort_by="new")</span>


<span class='va'>new_guns_urls</span> <span class='op'>&lt;-</span> <span class='fu'>loadRData</span><span class='op'>(</span><span class='st'>"/Users/noahmilstein/Desktop/Spring 2022/Textasdata/text_as_data_work/New_reddit_posts_3_26.RData"</span><span class='op'>)</span>

<span class='co'># Next I extract the 4 columns that I will need, title, date, comments</span>
<span class='co'># and non-title text</span>

<span class='va'>new_guns_urls_df</span><span class='op'>&lt;-</span><span class='va'>new_guns_urls</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"title"</span>, <span class='st'>"date_utc"</span>, <span class='st'>"comments"</span>, <span class='st'>"text"</span><span class='op'>)</span><span class='op'>]</span>

<span class='co'># Next I load the top posts of all time on the thread which go back to 2017 </span>
<span class='co'># With observations to march 2022 when it was scraped.</span>

<span class='va'>top_guns_urls</span> <span class='op'>&lt;-</span> <span class='fu'>loadRData</span><span class='op'>(</span><span class='st'>"/Users/noahmilstein/Desktop/Spring 2022/Textasdata/text_as_data_work/top_guns_urls.RData"</span><span class='op'>)</span>

<span class='co'># top_guns_urls &lt;- find_thread_urls(subreddit="guns", sort_by="top")</span>

<span class='va'>top_guns_urls_df</span><span class='op'>&lt;-</span><span class='va'>top_guns_urls</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"title"</span>, <span class='st'>"date_utc"</span>, <span class='st'>"comments"</span>,  <span class='st'>"text"</span><span class='op'>)</span><span class='op'>]</span>

<span class='co'>#hot_guns_urls &lt;- find_thread_urls(subreddit="guns", sort_by="hot")</span>
<span class='co'># save(hot_guns_urls, file="hot_guns_urls.RData")</span>

<span class='co'># Next "hot" posts are loaded which are also primarily from march 2022</span>

<span class='co'># hot_guns_urls &lt;- find_thread_urls(subreddit="guns", sort_by="got")</span>

<span class='va'>hot_guns_urls</span><span class='op'>&lt;-</span>
  <span class='fu'>loadRData</span><span class='op'>(</span><span class='st'>"/Users/noahmilstein/Desktop/my_blog/_posts/2022-03-29-tad-post-4/hot_guns_urls.RData"</span><span class='op'>)</span>

<span class='va'>hot_guns_urls_df</span><span class='op'>&lt;-</span><span class='va'>hot_guns_urls</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"title"</span>, <span class='st'>"date_utc"</span>, <span class='st'>"comments"</span>, <span class='st'>"text"</span><span class='op'>)</span><span class='op'>]</span>
<span class='co'>#hot_guns_urls_df</span>
</code></pre>
</div>
</div>
<h3 id="initial-data-cleaning">Initial Data Cleaning</h3>
<p><strong>Basis:</strong> Explanation for each step is included in the
code below and mostly entails adding row numbers then combining all 3
data frames for new, top, and hot posts together.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'>#First I add rownames from 1 to 844 to the hot guns data frame</span>

<span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames</a></span><span class='op'>(</span><span class='va'>hot_guns_urls_df</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>844</span>, <span class='fl'>1</span><span class='op'>)</span>

<span class='co'>#Next I add rownames from 1 to 980 to the new guns data frame</span>

<span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames</a></span><span class='op'>(</span><span class='va'>new_guns_urls_df</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>980</span>, <span class='fl'>1</span><span class='op'>)</span>

<span class='co'>#Next I add the two row named data framed together by row.</span>

<span class='va'>hg_and_ng</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>hot_guns_urls_df</span>, <span class='va'>new_guns_urls_df</span><span class='op'>)</span>

<span class='co'>#After this I add rownames from 1 to 996 to the top guns data frame</span>

<span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames</a></span><span class='op'>(</span><span class='va'>top_guns_urls_df</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>996</span>, <span class='fl'>1</span><span class='op'>)</span>

<span class='co'># Finally I bind together the new and hot guns combined data frame with the </span>
<span class='co'># top guns data frame by row</span>

<span class='va'>whole_data_frame</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>hg_and_ng</span>, <span class='va'>top_guns_urls_df</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="data-cleaning-continued">Data Cleaning Continued</h4>
<p><strong>Basis:</strong> Since all of the posts come from the same
sub-Reddit I have to ensure that all posts are unique as to avoid bias
towards any particular set of words. This is because top posts, hot
posts, and recent posts could all include the same post if it were to
qualify for any of the categories by the reddit algorithm.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'># First I remove all non-unique rows from the data frame</span>

<span class='va'>whole_data_frame_unique</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>whole_data_frame</span><span class='op'>)</span>

<span class='co'># Next I add together the title and text of each reddit post to </span>
<span class='co'># ensure I am using all of the linguistic data in each post.</span>

<span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>all_text</span><span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>title</span>, <span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>text</span><span class='op'>)</span>

<span class='co'># Next I remove all line breaks from the posts to ensure aesthetic </span>
<span class='co'># specifications such as /r and /n are not included in the corpus</span>

<span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='st'>"all_text"</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='st'>"all_text"</span>,
                                    <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"[\r\n]"</span>, <span class='st'>""</span>, <span class='va'>x</span><span class='op'>)</span>  <span class='op'>}</span><span class='op'>)</span> 

<span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='st'>"all_text"</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='st'>"all_text"</span>,
                                    <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"[\031\034\035\024]"</span>, <span class='st'>"`"</span>, <span class='va'>x</span><span class='op'>)</span> <span class='op'>}</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="converting-charater-dates-to-dates-utc">Converting Charater
Dates to Dates UTC</h4>
<p><strong>Basis:</strong> Next I must convert the character vector of
dates into an actual date object using the as.Date() function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'># As can be seen below I replace the previous date_utc column which was not </span>
<span class='co'># a date object with date_utc as a date object.</span>

<span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>date_utc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>date_utc</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="initial-topic-modeling">Initial Topic Modeling</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#first I load the stm package though I will not use it much here.</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://www.structuraltopicmodel.com/'>stm</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="creating-a-document-feature-matrix-test.">Creating a Document
Feature Matrix Test.</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>myDfm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://quanteda.io/reference/dfm.html'>dfm</a></span><span class='op'>(</span><span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>all_text</span>,
  tolower<span class='op'>=</span><span class='cn'>TRUE</span>,
  remove <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/tm/man/stopwords.html'>stopwords</a></span><span class='op'>(</span><span class='st'>'en'</span><span class='op'>)</span>, 
  remove_punct <span class='op'>=</span> <span class='cn'>TRUE</span>
  <span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>myDfm</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 2711 9365</code></pre>
</div>
<h2 id="topic-modeling-for-the-project">Topic Modeling for the
Project</h2>
<p><strong>Basis:</strong> In this project I primarily create my topic
modeling using tm() and topicmodels() which I begin in this section.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#First I load the topicmodels package </span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>topicmodels</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'># First I load </span>

<span class='co'># loading stopwords I found via an internet resource that appeared comprehensive</span>

<span class='va'>english_stopwords</span> <span class='op'>&lt;-</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></span><span class='op'>(</span><span class='st'>"https://slcladal.github.io/resources/stopwords_en.txt"</span>, 
            encoding <span class='op'>=</span> <span class='st'>"UTF-8"</span><span class='op'>)</span>

<span class='co'># create a data frame with my dataframe and date metadata</span>

<span class='va'>textdata</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>doc_id<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/row.names.html'>row.names</a></span><span class='op'>(</span><span class='va'>whole_data_frame_unique</span><span class='op'>)</span>,
                       text<span class='op'>=</span><span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>all_text</span>, 
                       date<span class='op'>=</span><span class='va'>whole_data_frame_unique</span><span class='op'>$</span><span class='va'>date_utc</span><span class='op'>)</span>

<span class='co'># create a corpus using that dataframe</span>

<span class='va'>corpus</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/tm/man/VCorpus.html'>VCorpus</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/tm/man/DataframeSource.html'>DataframeSource</a></span><span class='op'>(</span><span class='va'>textdata</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Preprocessing chain</span>

<span class='co'># First I transform my corpus to lowercase.</span>

<span class='va'>processedCorpus_guns</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/tm/man/tm_map.html'>tm_map</a></span><span class='op'>(</span><span class='va'>corpus</span>, <span class='fu'><a href='https://rdrr.io/pkg/tm/man/content_transformer.html'>content_transformer</a></span><span class='op'>(</span><span class='va'>tolower</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Next I remove the stopwords that I loaded above.</span>

<span class='va'>processedCorpus_guns</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/tm/man/tm_map.html'>tm_map</a></span><span class='op'>(</span><span class='va'>processedCorpus_guns</span>, <span class='va'>removeWords</span>, 
                               <span class='va'>english_stopwords</span><span class='op'>)</span>

<span class='co'># Finally I remove punctuation.</span>

<span class='va'>processedCorpus_guns</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/tm/man/tm_map.html'>tm_map</a></span><span class='op'>(</span><span class='va'>processedCorpus_guns</span>, <span class='va'>removePunctuation</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="tokenization-and-continued-analysis">Tokenization and Continued
Analysis</h3>
<p><strong>Basis:</strong> First I load the package tokenizers.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lincolnmullen.com/software/tokenizers/'>tokenizers</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="n-grams-and-the-removal-of-common-terms-pre-processing">N-Grams
and the Removal of Common Terms (Pre-Processing)</h4>
<p><strong>Basis:</strong> In the code below I do my pre-processing
steps.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'># First I define a minumum frequency at which terms must occur. Through trial</span>
<span class='co'># and error 5 appeared to work pretty well.</span>

<span class='va'>minimumFrequency</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>

<span class='co'># Next I add the function NLP_tokenizer() which was acquiried from an internet </span>
<span class='co'># resource. This creates 1-grams, or single words, and 2-grams. 3-Grams I</span>
<span class='co'># found to be less comprehensible.</span>

<span class='va'>NLP_tokenizer</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/NLP/man/ngrams.html'>ngrams</a></span><span class='op'>(</span><span class='fu'><a href='https://stringr.tidyverse.org/reference/stringr-data.html'>words</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>)</span>, <span class='va'>paste</span>, collapse <span class='op'>=</span> <span class='st'>"_"</span><span class='op'>)</span>, 
         use.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Next I apply this minimum frequency and tokenization to my document-term</span>
<span class='co'># matrxi</span>

<span class='va'>DTM</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/tm/man/matrix.html'>DocumentTermMatrix</a></span><span class='op'>(</span>
  <span class='va'>processedCorpus_guns</span>, 
  control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>tokenize <span class='op'>=</span> <span class='va'>NLP_tokenizer</span> ,
  bounds <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>global <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>minimumFrequency</span>, <span class='cn'>Inf</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Finally I add the function for excessively common terms. Using 0.8 or words</span>
<span class='co'># That appear in 80% of documents led to the most comprehensible results.</span>

<span class='va'>removeCommonTerms</span> <span class='op'>&lt;-</span> <span class='kw'>function</span> <span class='op'>(</span><span class='va'>x</span>, <span class='va'>pct</span><span class='op'>)</span> 
<span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/stopifnot.html'>stopifnot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/class.html'>inherits</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"DocumentTermMatrix"</span>, <span class='st'>"TermDocumentMatrix"</span><span class='op'>)</span><span class='op'>)</span>, 
        <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>is.numeric</a></span><span class='op'>(</span><span class='va'>pct</span><span class='op'>)</span>, <span class='va'>pct</span> <span class='op'>&gt;</span> <span class='fl'>0</span>, <span class='va'>pct</span> <span class='op'>&lt;</span> <span class='fl'>1</span><span class='op'>)</span>
    <span class='va'>m</span> <span class='op'>&lt;-</span> <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/class.html'>inherits</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"DocumentTermMatrix"</span><span class='op'>)</span><span class='op'>)</span> 
        <span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
    <span class='kw'>else</span> <span class='va'>x</span>
    <span class='va'>t</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>m</span><span class='op'>$</span><span class='va'>i</span><span class='op'>)</span> <span class='op'>&lt;</span> <span class='va'>m</span><span class='op'>$</span><span class='va'>ncol</span> <span class='op'>*</span> <span class='op'>(</span><span class='va'>pct</span><span class='op'>)</span>
    <span class='va'>termIndex</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>t</span><span class='op'>[</span><span class='va'>t</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>
    <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/class.html'>inherits</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"DocumentTermMatrix"</span><span class='op'>)</span><span class='op'>)</span> 
        <span class='va'>x</span><span class='op'>[</span>, <span class='va'>termIndex</span><span class='op'>]</span>
    <span class='kw'>else</span> <span class='va'>x</span><span class='op'>[</span><span class='va'>termIndex</span>, <span class='op'>]</span>
<span class='op'>}</span>

<span class='co'># I then apply this to my document term matrix.</span>

<span class='va'>DTM</span> <span class='op'>&lt;-</span> <span class='fu'>removeCommonTerms</span><span class='op'>(</span><span class='va'>DTM</span>, <span class='fl'>0.8</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="dtm-dimension">DTM Dimension</h4>
<p><strong>Basis:</strong> looking at the dimensions of the DTM we see
it is 2711 x 1516 which has greatly reduced dimensionalty.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>DTM</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 2711 1516</code></pre>
</div>
<h4 id="dtm-controlling-for-empty-rows">DTM Controlling for Empty
rows</h4>
<p><strong>Basis:</strong> Next I look to make see that the rowsums for
the matrix are not zero. This is the case so no rows must be removed but
the code would remove rows from DTM if necessary.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>sel_idx</span> <span class='op'>&lt;-</span> <span class='fu'>slam</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/slam/man/sums.html'>row_sums</a></span><span class='op'>(</span><span class='va'>DTM</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>0</span>
<span class='va'>DTM</span> <span class='op'>&lt;-</span> <span class='va'>DTM</span><span class='op'>[</span><span class='va'>sel_idx</span>, <span class='op'>]</span>

<span class='va'>textdata</span> <span class='op'>&lt;-</span> <span class='va'>textdata</span><span class='op'>[</span><span class='va'>sel_idx</span>, <span class='op'>]</span>
</code></pre>
</div>
</div>
<h4 id="finding-topic-numbers">Finding Topic Numbers</h4>
<p><strong>Basis:</strong> Using the function ldatuning and
FindTopicsNumber I use a number of metric scores to attempt to see what
number of topics leads to the best performance. Using CaoJuan2009 and
Deveaud2014 and gibbs as a method we see what number of topics we seek
to use to minimize and maximize each metric.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'>ldatuning</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/ldatuning/man/FindTopicsNumber.html'>FindTopicsNumber</a></span><span class='op'>(</span>
  <span class='va'>DTM</span>,
  topics <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from <span class='op'>=</span> <span class='fl'>2</span>, to <span class='op'>=</span> <span class='fl'>20</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  metrics <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='st'>"CaoJuan2009"</span>, <span class='st'>"Deveaud2014"</span><span class='op'>)</span>,
  method <span class='op'>=</span> <span class='st'>"Gibbs"</span>,
  control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>seed <span class='op'>=</span> <span class='fl'>77</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code>fit models... done.
calculate metrics:
  CaoJuan2009... done.
  Deveaud2014... done.</code></pre>
</div>
<h4 id="finding-topic-numbers-results">Finding Topic Numbers
(Results)</h4>
<p><strong>Basis:</strong> Using a plot and these metrics that 14 does a
good job minimizing CaoJuan but is far from the maximum for Deveaud. As
a result a just tried a handful of different numbers of topcis and
determined that 10 worked well for my purposes.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>


<span class='fu'><a href='https://rdrr.io/pkg/ldatuning/man/FindTopicsNumber_plot.html'>FindTopicsNumber_plot</a></span><span class='op'>(</span><span class='va'>result</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-15-1.png" width="624" /></p>
</div>
<h3 id="creating-the-lda">Creating the LDA</h3>
<p><strong>Basis:</strong> to create my LDA, or Latent Dirilecht
Allocation for my topics I use the code below.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'># number of topics</span>
<span class='va'>K</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='co'># set random number generator seed</span>

<span class='co'># compute the LDA model, inference via 1000 iterations of Gibbs sampling</span>
<span class='va'>topicModel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/topicmodels/man/lda.html'>LDA</a></span><span class='op'>(</span><span class='va'>DTM</span>, <span class='va'>K</span>, method<span class='op'>=</span><span class='st'>"Gibbs"</span>, 
                  control<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>iter <span class='op'>=</span> <span class='fl'>500</span>, verbose <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>K = 10; V = 1516; M = 2529
Sampling 500 iterations!
Iteration 25 ...
Iteration 50 ...
Iteration 75 ...
Iteration 100 ...
Iteration 125 ...
Iteration 150 ...
Iteration 175 ...
Iteration 200 ...
Iteration 225 ...
Iteration 250 ...
Iteration 275 ...
Iteration 300 ...
Iteration 325 ...
Iteration 350 ...
Iteration 375 ...
Iteration 400 ...
Iteration 425 ...
Iteration 450 ...
Iteration 475 ...
Iteration 500 ...
Gibbs sampling completed!</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'># have a look a some of the results (posterior distributions)</span>
<span class='va'>tmResult</span> <span class='op'>&lt;-</span> <span class='fu'>posterior</span><span class='op'>(</span><span class='va'>topicModel</span><span class='op'>)</span>
<span class='co'># format of the resulting object</span>
<span class='fu'><a href='https://rdrr.io/r/base/attributes.html'>attributes</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$names
[1] &quot;terms&quot;  &quot;topics&quot;</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>


<span class='fu'><a href='https://rdrr.io/pkg/tm/man/Docs.html'>nTerms</a></span><span class='op'>(</span><span class='va'>DTM</span><span class='op'>)</span>              <span class='co'># lengthOfVocab</span>
</code></pre>
</div>
<pre><code>[1] 1516</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='co'># topics are probability distribtions over the entire vocabulary</span>
<span class='va'>beta</span> <span class='op'>&lt;-</span> <span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span>   <span class='co'># get beta from results</span>
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>beta</span><span class='op'>)</span>                <span class='co'># K distributions over nTerms(DTM) terms</span>
</code></pre>
</div>
<pre><code>[1]    10 40081</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>rowSums</a></span><span class='op'>(</span><span class='va'>beta</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code> 1  2  3  4  5  6  7  8  9 10 
 1  1  1  1  1  1  1  1  1  1 </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/pkg/tm/man/Docs.html'>nDocs</a></span><span class='op'>(</span><span class='va'>DTM</span><span class='op'>)</span>               <span class='co'># size of collection</span>
</code></pre>
</div>
<pre><code>[1] 2529</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>theta</span> <span class='op'>&lt;-</span> <span class='va'>tmResult</span><span class='op'>$</span><span class='va'>topics</span> 

<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>theta</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code>[1] 2529   10</code></pre>
</div>
<h4 id="topic-lda-results.">Topic LDA results.</h4>
<p><strong>Basis:</strong> First I look at my topics below, to me these
had a great deal of coherence and resulted in topics that had carry,
range, defense, and hunting in separate categories.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/stats/terms.html'>terms</a></span><span class='op'>(</span><span class='va'>topicModel</span>, <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>kable</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<table style="width:100%;">
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 9%" />
<col style="width: 10%" />
<col style="width: 9%" />
<col style="width: 10%" />
<col style="width: 9%" />
<col style="width: 10%" />
<col style="width: 9%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Topic 1</th>
<th style="text-align: left;">Topic 2</th>
<th style="text-align: left;">Topic 3</th>
<th style="text-align: left;">Topic 4</th>
<th style="text-align: left;">Topic 5</th>
<th style="text-align: left;">Topic 6</th>
<th style="text-align: left;">Topic 7</th>
<th style="text-align: left;">Topic 8</th>
<th style="text-align: left;">Topic 9</th>
<th style="text-align: left;">Topic 10</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">rifle</td>
<td style="text-align: left;">barrel</td>
<td style="text-align: left;">sights</td>
<td style="text-align: left;">found</td>
<td style="text-align: left;">amp</td>
<td style="text-align: left;">gun</td>
<td style="text-align: left;">pistol</td>
<td style="text-align: left;">back</td>
<td style="text-align: left;">gun</td>
<td style="text-align: left;">shooting</td>
</tr>
<tr class="even">
<td style="text-align: left;">range</td>
<td style="text-align: left;">question</td>
<td style="text-align: left;">holster</td>
<td style="text-align: left;">ruger</td>
<td style="text-align: left;">glock</td>
<td style="text-align: left;">guns</td>
<td style="text-align: left;">time</td>
<td style="text-align: left;">round</td>
<td style="text-align: left;">today</td>
<td style="text-align: left;">range</td>
</tr>
<tr class="odd">
<td style="text-align: left;">shot</td>
<td style="text-align: left;">stock</td>
<td style="text-align: left;">sig</td>
<td style="text-align: left;">scam</td>
<td style="text-align: left;">love</td>
<td style="text-align: left;">buy</td>
<td style="text-align: left;">carry</td>
<td style="text-align: left;">slide</td>
<td style="text-align: left;">mag</td>
<td style="text-align: left;">rifle</td>
</tr>
<tr class="even">
<td style="text-align: left;">day</td>
<td style="text-align: left;">build</td>
<td style="text-align: left;">price</td>
<td style="text-align: left;">site</td>
<td style="text-align: left;">trigger</td>
<td style="text-align: left;">defense</td>
<td style="text-align: left;">state</td>
<td style="text-align: left;">bought</td>
<td style="text-align: left;">firearm</td>
<td style="text-align: left;">ammo</td>
</tr>
<tr class="odd">
<td style="text-align: left;">shoot</td>
<td style="text-align: left;">wondering</td>
<td style="text-align: left;">1911</td>
<td style="text-align: left;">guys</td>
<td style="text-align: left;">great</td>
<td style="text-align: left;">ammo</td>
<td style="text-align: left;">don</td>
<td style="text-align: left;">rounds</td>
<td style="text-align: left;">safe</td>
<td style="text-align: left;">time</td>
</tr>
<tr class="even">
<td style="text-align: left;">find</td>
<td style="text-align: left;">parts</td>
<td style="text-align: left;">9mm</td>
<td style="text-align: left;">picked</td>
<td style="text-align: left;">grip</td>
<td style="text-align: left;">good</td>
<td style="text-align: left;">gun</td>
<td style="text-align: left;">put</td>
<td style="text-align: left;">feel</td>
<td style="text-align: left;">guns</td>
</tr>
<tr class="odd">
<td style="text-align: left;">good</td>
<td style="text-align: left;">dot</td>
<td style="text-align: left;">left</td>
<td style="text-align: left;">find</td>
<td style="text-align: left;">model</td>
<td style="text-align: left;">home</td>
<td style="text-align: left;">license</td>
<td style="text-align: left;">sight</td>
<td style="text-align: left;">case</td>
<td style="text-align: left;">years</td>
</tr>
<tr class="even">
<td style="text-align: left;">9mm</td>
<td style="text-align: left;">lower</td>
<td style="text-align: left;">light</td>
<td style="text-align: left;">firearms</td>
<td style="text-align: left;">people</td>
<td style="text-align: left;">shotgun</td>
<td style="text-align: left;">handgun</td>
<td style="text-align: left;">issue</td>
<td style="text-align: left;">full</td>
<td style="text-align: left;">steel</td>
</tr>
<tr class="odd">
<td style="text-align: left;">wanted</td>
<td style="text-align: left;">fit</td>
<td style="text-align: left;">good</td>
<td style="text-align: left;">shop</td>
<td style="text-align: left;">make</td>
<td style="text-align: left;">buying</td>
<td style="text-align: left;">permit</td>
<td style="text-align: left;">magazine</td>
<td style="text-align: left;">mags</td>
<td style="text-align: left;">hunting</td>
</tr>
<tr class="even">
<td style="text-align: left;">bit</td>
<td style="text-align: left;">red_dot</td>
<td style="text-align: left;">carry</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">556</td>
<td style="text-align: left;">purchase</td>
<td style="text-align: left;">years</td>
<td style="text-align: left;">post</td>
<td style="text-align: left;">don</td>
<td style="text-align: left;">ago</td>
</tr>
</tbody>
</table>
</div>
<h4 id="topic-lda-visualizations">Topic LDA Visualizations</h4>
<p><strong>Basis:</strong> After a great deal of investigation that led
to the results above I chose to visualize my 4 topics of interest in a
word cloud to confirm their relevance into their top 40 terms.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>top5termsPerTopic</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/terms.html'>terms</a></span><span class='op'>(</span><span class='va'>topicModel</span>, <span class='fl'>5</span><span class='op'>)</span>

<span class='va'>topicNames</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span><span class='op'>(</span><span class='va'>top5termsPerTopic</span>, <span class='fl'>2</span>, <span class='va'>paste</span>, collapse<span class='op'>=</span><span class='st'>" "</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><strong>Basis Continued:</strong> The 4 topics of interest are 10, 4,
3, 1 and each of these is graphed in a word cloud below.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># visualize topics as word cloud</span>

<span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fl'>1</span> <span class='co'># change for your own topic of interest</span>
<span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='va'>topicNames</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> , <span class='va'>topicNames</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>
<span class='co'># Or select a topic by a term contained in its name</span>
<span class='co'># select to 40 most probable terms from the topic by </span>
<span class='co'>#sorting the term-topic-probability vector in decreasing order</span>
<span class='va'>top40terms</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='va'>words</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>top40terms</span><span class='op'>)</span>
<span class='co'># extract the probabilites of each of the 40 terms</span>
<span class='va'>probabilities</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='co'># visualize the terms as wordcloud</span>
<span class='va'>mycolors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html'>brewer.pal</a></span><span class='op'>(</span><span class='fl'>8</span>, <span class='st'>"Dark2"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/quanteda.textplots/man/wordcloud.html'>wordcloud</a></span><span class='op'>(</span><span class='va'>words</span>, <span class='va'>probabilities</span>, random.order <span class='op'>=</span> <span class='cn'>FALSE</span>, color <span class='op'>=</span> <span class='va'>mycolors</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-25-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fl'>3</span> 
<span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='va'>topicNames</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>]</span> , <span class='va'>topicNames</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> 

<span class='va'>top40terms</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='va'>words</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>top40terms</span><span class='op'>)</span>
<span class='va'>probabilities</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='va'>mycolors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html'>brewer.pal</a></span><span class='op'>(</span><span class='fl'>8</span>, <span class='st'>"Dark2"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/quanteda.textplots/man/wordcloud.html'>wordcloud</a></span><span class='op'>(</span><span class='va'>words</span>, <span class='va'>probabilities</span>, random.order <span class='op'>=</span> <span class='cn'>FALSE</span>, color <span class='op'>=</span> <span class='va'>mycolors</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-26-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># visualize topics as word cloud</span>

<span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fl'>4</span> 
<span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='va'>topicNames</span><span class='op'>[</span><span class='fl'>4</span><span class='op'>]</span>, <span class='va'>topicNames</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> 
<span class='va'>top40terms</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='va'>words</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>top40terms</span><span class='op'>)</span>
<span class='va'>probabilities</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='va'>mycolors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html'>brewer.pal</a></span><span class='op'>(</span><span class='fl'>8</span>, <span class='st'>"Dark2"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/quanteda.textplots/man/wordcloud.html'>wordcloud</a></span><span class='op'>(</span><span class='va'>words</span>, <span class='va'>probabilities</span>, random.order <span class='op'>=</span> <span class='cn'>FALSE</span>, color <span class='op'>=</span> <span class='va'>mycolors</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-27-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fl'>10</span> 
<span class='va'>topicToViz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='va'>topicNames</span><span class='op'>[</span><span class='fl'>10</span><span class='op'>]</span>, <span class='va'>topicNames</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> 

<span class='va'>top40terms</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='va'>words</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>top40terms</span><span class='op'>)</span>
<span class='va'>probabilities</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>tmResult</span><span class='op'>$</span><span class='va'>terms</span><span class='op'>[</span><span class='va'>topicToViz</span>,<span class='op'>]</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span>
<span class='va'>mycolors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html'>brewer.pal</a></span><span class='op'>(</span><span class='fl'>8</span>, <span class='st'>"Dark2"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/quanteda.textplots/man/wordcloud.html'>wordcloud</a></span><span class='op'>(</span><span class='va'>words</span>, <span class='va'>probabilities</span>, random.order <span class='op'>=</span> <span class='cn'>TRUE</span>, color <span class='op'>=</span> <span class='va'>mycolors</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-28-1.png" width="624" /></p>
</div>
<h4 id="topic-lda-visualizations-and-proportions">Topic LDA
Visualizations and Proportions</h4>
<p><strong>Basis:</strong> In order to better understand the results of
my topic model beyond the inclusion of the top 40 words, I look to the
beta and theta attributes to look at the top topic words in each group
and the resulting proportions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>topicNames</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span><span class='op'>(</span><span class='fu'>lda</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lda/man/top.topic.words.html'>top.topic.words</a></span><span class='op'>(</span><span class='va'>beta</span>, <span class='fl'>5</span>, by.score <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>, 
                    <span class='fl'>2</span>, <span class='va'>paste</span>, collapse <span class='op'>=</span> <span class='st'>" "</span><span class='op'>)</span>

<span class='co'># What are the most probable topics in the entire collection?</span>
<span class='va'>topicProportions</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>colSums</a></span><span class='op'>(</span><span class='va'>theta</span><span class='op'>)</span> <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/pkg/tm/man/Docs.html'>nDocs</a></span><span class='op'>(</span><span class='va'>DTM</span><span class='op'>)</span> 
<span class='co'># mean probablities over all paragraphs</span>

<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>topicProportions</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>topicNames</span>     

<span class='co'># assign the topic names we created before</span>
</code></pre>
</div>
</div>
<p><strong>Basis:</strong> These proortions give some sense, but due to
the number of documents they are regarding the small changes in percents
can be significant.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>soP</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>topicProportions</span>, decreasing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>soP</span>, <span class='fl'>5</span><span class='op'>)</span>, <span class='st'>":"</span>, <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>soP</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;0.10071 : gun today mag firearm feel&quot;      
 [2] &quot;0.1004 : ruger found scam site guys&quot;       
 [3] &quot;0.1004 : barrel question stock build parts&quot;
 [4] &quot;0.10029 : pistol state license don permit&quot; 
 [5] &quot;0.09992 : shooting rifle range ammo guns&quot;  
 [6] &quot;0.09988 : back round slide rounds put&quot;     
 [7] &quot;0.09986 : gun guns buy defense shotgun&quot;    
 [8] &quot;0.09984 : sights holster sig left 1911&quot;    
 [9] &quot;0.0994 : glock amp love trigger grip&quot;      
[10] &quot;0.0993 : rifle range shot day shoot&quot;       </code></pre>
</div>
<p><strong>Basis:</strong> As a result I look for the counts of the
dosuments themselves.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>countsOfPrimaryTopics</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='va'>K</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>countsOfPrimaryTopics</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>topicNames</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/pkg/tm/man/Docs.html'>nDocs</a></span><span class='op'>(</span><span class='va'>DTM</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>topicsPerDoc</span> <span class='op'>&lt;-</span> <span class='va'>theta</span><span class='op'>[</span><span class='va'>i</span>, <span class='op'>]</span> <span class='co'># select topic distribution for document i</span>
  <span class='co'># get first element position from ordered list</span>
  <span class='va'>primaryTopic</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>topicsPerDoc</span>, decreasing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> 
  <span class='va'>countsOfPrimaryTopics</span><span class='op'>[</span><span class='va'>primaryTopic</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>countsOfPrimaryTopics</span><span class='op'>[</span><span class='va'>primaryTopic</span><span class='op'>]</span> <span class='op'>+</span> <span class='fl'>1</span>
<span class='op'>}</span>
<span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>countsOfPrimaryTopics</span>, decreasing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>       rifle range shot day shoot barrel question stock build parts 
                              389                               373 
     sights holster sig left 1911        ruger found scam site guys 
                              349                               264 
     gun guns buy defense shotgun       glock amp love trigger grip 
                              238                               235 
  pistol state license don permit       back round slide rounds put 
                              221                               165 
       gun today mag firearm feel    shooting rifle range ammo guns 
                              158                               137 </code></pre>
</div>
<p><strong>Basis:</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>836</span><span class='op'>)</span>

<span class='va'>so</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>countsOfPrimaryTopics</span>, decreasing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>so</span>, <span class='st'>":"</span>, <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>so</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;389 : rifle range shot day shoot&quot;       
 [2] &quot;373 : barrel question stock build parts&quot;
 [3] &quot;349 : sights holster sig left 1911&quot;     
 [4] &quot;264 : ruger found scam site guys&quot;       
 [5] &quot;238 : gun guns buy defense shotgun&quot;     
 [6] &quot;235 : glock amp love trigger grip&quot;      
 [7] &quot;221 : pistol state license don permit&quot;  
 [8] &quot;165 : back round slide rounds put&quot;      
 [9] &quot;158 : gun today mag firearm feel&quot;       
[10] &quot;137 : shooting rifle range ammo guns&quot;   </code></pre>
</div>
<h4 id="proportional-visualizations">Proportional Visualizations</h4>
<p><strong>Basis:</strong> I then look to visualize my topics as
proportions in a more creative way that better represets their
proportion in the documents rather than by the proportions of words
earlier.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>291</span><span class='op'>)</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='va'>qual_col_pals</span> <span class='op'>=</span> <span class='va'>brewer.pal.info</span><span class='op'>[</span><span class='va'>brewer.pal.info</span><span class='op'>$</span><span class='va'>category</span> <span class='op'>==</span> <span class='st'>'qual'</span>,<span class='op'>]</span>
<span class='va'>col_vector</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mapply.html'>mapply</a></span><span class='op'>(</span><span class='va'>brewer.pal</span>, <span class='va'>qual_col_pals</span><span class='op'>$</span><span class='va'>maxcolors</span>,
                           <span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames</a></span><span class='op'>(</span><span class='va'>qual_col_pals</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/pie.html'>pie</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='va'>n</span><span class='op'>)</span>, col<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>col_vector</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-33-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>

<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>4</span>
<span class='va'>qual_col_pals</span> <span class='op'>=</span> <span class='va'>brewer.pal.info</span><span class='op'>[</span><span class='va'>brewer.pal.info</span><span class='op'>$</span><span class='va'>category</span> <span class='op'>==</span> <span class='st'>'qual'</span>,<span class='op'>]</span>

<span class='va'>col_vector_2</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mapply.html'>mapply</a></span><span class='op'>(</span><span class='va'>brewer.pal</span>, <span class='va'>qual_col_pals</span><span class='op'>$</span><span class='va'>maxcolors</span>, 
                             <span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames</a></span><span class='op'>(</span><span class='va'>qual_col_pals</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/graphics/pie.html'>pie</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='va'>n</span><span class='op'>)</span>, col<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>col_vector_2</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-34-1.png" width="624" /></p>
</div>
<p><strong>Basis:</strong> I then create a ggplot graph of the
proportions of topics using polar coordiantes to better illustrate their
differences.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>

<span class='va'>df_for_visualization</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>countsOfPrimaryTopics</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>so</span><span class='op'>)</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Concealed Carry"</span>, <span class='st'>"Purchase Advice"</span>, <span class='st'>"Hunting"</span>,
<span class='st'>"Range and Recreation"</span>, <span class='st'>"
             Firearm Accessories"</span>, 
<span class='st'>"Experience and Review"</span>, <span class='st'>"Pistol Review"</span>, <span class='st'>"Rifle Review"</span>, <span class='st'>"Loading Issues"</span>,  
             <span class='st'>"Home Defense"</span><span class='op'>)</span>

<span class='va'>df_for_visualization</span><span class='op'>$</span><span class='va'>group_names</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>so</span><span class='op'>)</span>

<span class='va'>df_for_visualization</span><span class='op'>$</span><span class='va'>group_numbers</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>10</span>, <span class='fl'>1</span><span class='op'>)</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>df_for_visualization</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>group_names</span>, y<span class='op'>=</span><span class='va'>countsOfPrimaryTopics</span>,  
                                 fill<span class='op'>=</span><span class='va'>group_names</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span> <span class='op'>)</span><span class='op'>+</span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_classic</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>90</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, size<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span>,
         legend.key.size <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.3</span>, <span class='st'>'cm'</span><span class='op'>)</span>, <span class='co'>#change legend key size</span>
        legend.key.height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='st'>'cm'</span><span class='op'>)</span>, <span class='co'>#change legend key height</span>
        legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='st'>'cm'</span><span class='op'>)</span>,<span class='op'>)</span> <span class='op'>+</span>  
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>col_vector_2</span>, <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Topic Groups"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"Number of Posts in Group"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span>fill<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span>title<span class='op'>=</span><span class='st'>"Topic Groups"</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_polar.html'>coord_polar</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-35-1.png" width="624" /></p>
</div>
<p><strong>Basis:</strong> I then do the same, but just for my 4 topics
of interest</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>

<span class='va'>df_for_visualization</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>countsOfPrimaryTopics</span><span class='op'>)</span>

<span class='va'>df_for_visualization_relevant</span> <span class='op'>&lt;-</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>df_for_visualization</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span> ,<span class='fl'>3</span>, <span class='fl'>4</span>,<span class='fl'>10</span><span class='op'>)</span>,<span class='op'>]</span><span class='op'>)</span>

<span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>group_names</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>so</span><span class='op'>)</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span> ,<span class='fl'>3</span>, <span class='fl'>4</span>,<span class='fl'>10</span><span class='op'>)</span><span class='op'>]</span>

<span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>group_names</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Concealed Carry"</span>, 
                      <span class='st'>"Hunting"</span>, <span class='st'>"Range and Recreation"</span>, <span class='st'>"Home Defense"</span><span class='op'>)</span>

<span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>group_numbers</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span> ,<span class='fl'>3</span>, <span class='fl'>4</span>,<span class='fl'>10</span><span class='op'>)</span>

<span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>frequency</span> <span class='op'>&lt;-</span> 
  <span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>`df_for_visualization[c(1, 3, 4, 10), ]`</span>

<span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>proportion</span> <span class='op'>&lt;-</span> 
  <span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>frequency</span><span class='op'>/</span>
  <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>frequency</span><span class='op'>)</span>


<span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>df_for_visualization_relevant</span><span class='op'>$</span><span class='va'>frequency</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1139</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>df_for_visualization_relevant</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>group_names</span>, y<span class='op'>=</span><span class='va'>proportion</span>,  fill<span class='op'>=</span><span class='va'>group_names</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span> <span class='op'>)</span> <span class='op'>+</span>    
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>col_vector_2</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_x_discrete</a></span><span class='op'>(</span>guide <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_axis.html'>guide_axis</a></span><span class='op'>(</span>n.dodge <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Topic Groups"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"Number of Posts in Group"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span>fill<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span>title<span class='op'>=</span><span class='st'>"Topic Groups"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_polar.html'>coord_polar</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-36-1.png" width="624" /></p>
</div>
<p><strong>Basis:</strong> Finally I use my date_utc variable metadata
to see how the proportion of these topics has changed over time.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>

<span class='va'>topic_proportion_per_decade</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aggregate.html'>aggregate</a></span><span class='op'>(</span><span class='va'>theta</span>, by <span class='op'>=</span> 
                                           <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>decade <span class='op'>=</span> <span class='va'>textdata</span><span class='op'>$</span><span class='va'>date</span><span class='op'>)</span>, <span class='va'>mean</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>topic_proportion_per_decade</span><span class='op'>)</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>topic_proportion_per_decade</span><span class='op'>)</span>
<span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"decade"</span>, <span class='st'>"1"</span>, <span class='st'>"2"</span>, <span class='st'>"3"</span>,<span class='st'>"4"</span>,<span class='st'>"5"</span>,<span class='st'>"6"</span>,<span class='st'>"7"</span>,<span class='st'>"8"</span>,<span class='st'>"9"</span>,<span class='st'>"10"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"day"</span>, 
<span class='st'>"Concealed Carry"</span>, <span class='st'>"Purchase Advice"</span>, <span class='st'>"Hunting"</span>,
<span class='st'>"Range and Recreation"</span>, <span class='st'>"Firearm Accessories"</span>, 
<span class='st'>"Experience and Review"</span>, <span class='st'>"Pistol Review"</span>, <span class='st'>"Rifle Review"</span>, 
<span class='st'>"Loading Issues"</span>,  <span class='st'>"Home Defense"</span><span class='op'>)</span>
                            <span class='co'>#c("decade", "pistol carry buy state people","good question find guns 9mm","rifle ruger pretty bolt long", "range ammo time shooting shoot", "red sight found sights dot", "gun safe post feel dad", "glock amp love trigger great","barrel bought lower steel recently", "back round slide mag rounds","gun home guns defense firearm")] &lt;- c("day", "Concealed Carry", "Purchase Advice", "Hunting","Range and Recreation", "Firearm Accessories", "Experience and Review", "Pistol Review", "Rifle Review", "Loading Issues",  "Home Defense")</span>
 
<span class='va'>topicNames</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Concealed Carry"</span>, <span class='st'>"Purchase Advice"</span>, <span class='st'>"Hunting"</span>,<span class='st'>"
               Range and Recreation"</span>, <span class='st'>"Firearm Accessories"</span>, 
               <span class='st'>"Experience and Review"</span>, <span class='st'>"Pistol Review"</span>, 
               <span class='st'>"Rifle Review"</span>, <span class='st'>"Loading Issues"</span>,  <span class='st'>"Home Defense"</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>topic_proportion_per_decade</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>:</span><span class='op'>(</span><span class='va'>K</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>topicNames</span>
<span class='co'># reshape data frame</span>
<span class='va'>vizDataFrame</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/reshape2/man/melt.html'>melt</a></span><span class='op'>(</span><span class='va'>topic_proportion_per_decade</span>, id.vars <span class='op'>=</span> <span class='st'>"day"</span><span class='op'>)</span>
<span class='co'># plot topic proportions per decade as bar plot</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>vizDataFrame</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>day</span>, y<span class='op'>=</span><span class='va'>value</span>, fill<span class='op'>=</span><span class='va'>variable</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"proportion"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>col_vector_2</span>, <span class='fl'>10</span><span class='op'>)</span>, name <span class='op'>=</span> <span class='st'>"day"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>90</span>, hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-37-1.png" width="624" /></p>
</div>
<p><strong>Basis:</strong> Finally, I show the proportion of dates that
each of the posts comes from to give the readers of my poster some sense
of the recency bias in the data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat2</span> <span class='op'>&lt;-</span> <span class='va'>whole_data_frame_unique</span> <span class='op'><a href='https://stringr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>date_utc</span><span class='op'>)</span> <span class='op'><a href='https://stringr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://stringr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>prop <span class='op'>=</span> <span class='va'>n</span><span class='op'>/</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/lead-lag.html'>lag</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'>#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>dat2</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>date_utc</span>, y <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-poster-work_files/figure-html5/unnamed-chunk-38-1.png" width="624" /></p>
</div>
<div class="sourceCode" id="cb15"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
